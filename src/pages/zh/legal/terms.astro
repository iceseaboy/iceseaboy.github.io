---
import { getCollection } from 'astro:content';
import Layout from '@/layouts/Base.astro';

const collection = await getCollection('legal');
// 尝试不同的匹配方式
let entry = collection.find((e) => e.slug === 'terms.zh');
if (!entry) {
  entry = collection.find((e) => e.id === 'terms.zh.md');
}
if (!entry) {
  entry = collection.find((e) => e.id.includes('terms') && e.id.includes('zh'));
}

if (!entry) {
  throw new Error(`Terms entry not found. Available entries: ${collection.map(e => e.slug).join(', ')}`);
}

const { Content } = await entry.render();
---

<Layout>
  <section class="py-16">
    <div class="container">
      <div class="mx-auto max-w-4xl">
        <h1 class="text-3xl font-bold mb-8">{entry.data.title}</h1>
        <div class="prose prose-lg dark:prose-invert">
          <Content />
        </div>
      </div>
    </div>
  </section>
</Layout>

